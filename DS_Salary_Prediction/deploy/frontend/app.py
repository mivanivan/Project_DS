import streamlit as st
import requests

list_negara = ['AF', 'AL', 'DZ','AS',
 'AD',
 'AO',
 'AI',
 'AQ',
 'AG',
 'AR',
 'AM',
 'AW',
 'AU',
 'AT',
 'AZ',
 'BS',
 'BH',
 'BD',
 'BB',
 'BY',
 'BE',
 'BZ',
 'BJ',
 'BM',
 'BT',
 'BO',
 'BQ',
 'BA',
 'BW',
 'BV',
 'BR',
 'IO',
 'BN',
 'BG',
 'BF',
 'BI',
 'KH',
 'CM',
 'CA',
 'CV',
 'KY',
 'CF',
 'TD',
 'CL',
 'CN',
 'CX',
 'CC',
 'CO',
 'KM',
 'CG',
 'CD',
 'CK',
 'CR',
 'HR',
 'CU',
 'CW',
 'CY',
 'CZ',
 'CI',
 'DK',
 'DJ',
 'DM',
 'DO',
 'EC',
 'EG',
 'SV',
 'GQ',
 'ER',
 'EE',
 'ET',
 'FK',
 'FO',
 'FJ',
 'FI',
 'FR',
 'GF',
 'PF',
 'TF',
 'GA',
 'GM',
 'GE',
 'DE',
 'GH',
 'GI',
 'GR',
 'GL',
 'GD',
 'GP',
 'GU',
 'GT',
 'GG',
 'GN',
 'GW',
 'GY',
 'HT',
 'HM',
 'VA',
 'HN',
 'HK',
 'HU',
 'IS',
 'IN',
 'ID',
 'IR',
 'IQ',
 'IE',
 'IM',
 'IL',
 'IT',
 'JM',
 'JP',
 'JE',
 'JO',
 'KZ',
 'KE',
 'KI',
 'KP',
 'KR',
 'KW',
 'KG',
 'LA',
 'LV',
 'LB',
 'LS',
 'LR',
 'LY',
 'LI',
 'LT',
 'LU',
 'MO',
 'MK',
 'MG',
 'MW',
 'MY',
 'MV',
 'ML',
 'MT',
 'MH',
 'MQ',
 'MR',
 'MU',
 'YT',
 'MX',
 'FM',
 'MD',
 'MC',
 'MN',
 'ME',
 'MS',
 'MA',
 'MZ',
 'MM',
 'NA',
 'NR',
 'NP',
 'NL',
 'NC',
 'NZ',
 'NI',
 'NE',
 'NG',
 'NU',
 'NF',
 'MP',
 'NO',
 'OM',
 'PK',
 'PW',
 'PS',
 'PA',
 'PG',
 'PY',
 'PE',
 'PH',
 'PN',
 'PL',
 'PT',
 'PR',
 'QA',
 'RO',
 'RU',
 'RW',
 'RE',
 'BL',
 'SH',
 'KN',
 'LC',
 'MF',
 'PM',
 'VC',
 'WS',
 'SM',
 'ST',
 'SA',
 'SN',
 'RS',
 'SC',
 'SL',
 'SG',
 'SX',
 'SK',
 'SI',
 'SB',
 'SO',
 'ZA',
 'GS',
 'SS',
 'ES',
 'LK',
 'SD',
 'SR',
 'SJ',
 'SZ',
 'SE',
 'CH',
 'SY',
 'TW',
 'TJ',
 'TZ',
 'TH',
 'TL',
 'TG',
 'TK',
 'TO',
 'TT',
 'TN',
 'TR',
 'TM',
 'TC',
 'TV',
 'UG',
 'UA',
 'AE',
 'GB',
 'US',
 'UM',
 'UY',
 'UZ',
 'VU',
 'VE',
 'VN',
 'VG',
 'VI',
 'WF',
 'EH',
 'YE',
 'ZM',
 'ZW',
 'AX']

st.title("Aplikasi Prediksi Gaji Seorang Data Scientist: ")
prediction_year = st.number_input("Tahun Anda bekerja atau akan bekerja: ",min_value=2010, max_value=2030, value=2010, step=1)
experience = st.selectbox('Klasifikasi Pengalaman (NE= Entry-level, MI= Mid-level, SE= Senior-level, EX= Executice-level): '
                            , ['EN','MI','SE','EX'])
employment_type = st.selectbox("Status Pekerjaan (FL= Freelance, PT= Part-time, CT= Contract, FT= Full-time: )", ['FL','PT','CT','FT'])
job_title = st.selectbox("Pilih Jenis Pekerjaan Anda: ",
                        ['Data Scientist', 'Machine Learning Scientist',
                        'Big Data Engineer', 'Product Data Analyst',
                        'Machine Learning Engineer', 'Data Analyst', 'Lead Data Scientist',
                        'Business Data Analyst', 'Lead Data Engineer', 'Lead Data Analyst',
                        'Data Engineer', 'Data Science Consultant', 'BI Data Analyst',
                        'Director of Data Science', 'Research Scientist',
                        'Machine Learning Manager', 'Data Engineering Manager',
                        'Machine Learning Infrastructure Engineer', 'ML Engineer',
                        'AI Scientist', 'Computer Vision Engineer',
                        'Principal Data Scientist', 'Data Science Manager', 'Head of Data',
                        '3D Computer Vision Researcher', 'Data Analytics Engineer',
                        'Applied Data Scientist', 'Marketing Data Analyst',
                        'Cloud Data Engineer', 'Financial Data Analyst',
                        'Computer Vision Software Engineer',
                        'Director of Data Engineering', 'Data Science Engineer',
                        'Principal Data Engineer', 'Machine Learning Developer',
                        'Applied Machine Learning Scientist', 'Data Analytics Manager',
                        'Head of Data Science', 'Data Specialist', 'Data Architect',
                        'Finance Data Analyst', 'Principal Data Analyst',
                        'Big Data Architect', 'Staff Data Scientist', 'Analytics Engineer',
                        'ETL Developer', 'Head of Machine Learning', 'NLP Engineer',
                        'Lead Machine Learning Engineer', 'Data Analytics Lead'])
employee_residence = st.selectbox("Pilih di Negara Mana Anda bertempat tinggal (Penulisan nama negara didasari pada ISO 3166-1 alpha-2): ",list_negara)
remote_ratio = st.slider("Select persentase kerja di Office",min_value=0, max_value=100)
company_location = st.selectbox("Pilih Negara tempat Perusahaan Anda terletak (Penulisan nama negara didasari pada ISO 3166-1 alpha-2): ",list_negara)
company_size = st.selectbox('Besarnya Perusahaan Anda (S kurang dari 50 Karyawan, M antara 50 dan 250 karyawan, L lebih dari 250 karyawan): ', ['S','M','L'])

# inference
URL = 'https://model-backend-salary.herokuapp.com/salary'
param = {'prediction_year':prediction_year ,
         'experience': experience,
         'employment_type': employment_type,
         'job_title':job_title,
         'employee_residence':employee_residence,
         'remote_ratio':remote_ratio,
         'company_location':company_location,
         'company_size':company_size}
r = requests.get(URL, json=param)

if r.status_code == 200:
    res = r.json()
    st.title(res['result'])
else:
    st.title("Unexpected Error")


